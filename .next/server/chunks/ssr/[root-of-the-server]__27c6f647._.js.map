{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ADMIN/OneDrive/Documents/CodingHW/ThucTap/BIT/mdd-web-int/src/app/blogs/%5Bblog-slug%5D/page.tsx"],"sourcesContent":["import { BlogDetails } from \"@/types/blog\";\r\n\r\ninterface PageProps {\r\n  params: { \"blog-slug\": string };\r\n}\r\n\r\n// Hàm fetch blog từ server\r\nasync function getBlog(slug: string): Promise<BlogDetails | null> {\r\n  try {\r\n    const res = await fetch(`http://localhost:1337/api/blogs/by-slug/${slug}`);\r\n    const data = await res.json();\r\n    return data.data || null;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return null;\r\n  }\r\n}\r\n\r\n// Hàm fetch bài liên quan\r\nasync function getRelatedBlogs(categoryId: string): Promise<BlogDetails[]> {\r\n  try {\r\n    const res = await fetch(\r\n      `http://localhost:1337/api/blogs?filters[cate][documentId][$eq]=${categoryId}&populate=cover&pagination[page]=1&pagination[pageSize]=3`\r\n    );\r\n    const data = await res.json();\r\n    return data.data || [];\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n}\r\n\r\ninterface BlogPageProps {\r\n  params: {\r\n    \"blog-slug\": string;\r\n  };\r\n}\r\n\r\n// Metadata server-side\r\nexport async function generateMetadata({ params }: BlogPageProps) {\r\n  const blog = await getBlog(params[\"blog-slug\"]);\r\n  if (!blog) return {};\r\n  return {\r\n    title: blog.title,\r\n    description: blog.subContent,\r\n    openGraph: {\r\n      title: blog.title,\r\n      description: blog.subContent,\r\n      images: blog.cover?.url ? [{ url: blog.cover.url }] : [],\r\n    },\r\n  };\r\n}\r\n\r\nexport default async function Page({ params }: PageProps) {\r\n  const slug = params[\"blog-slug\"];\r\n  const blogDetail = await getBlog(slug);\r\n\r\n  if (!blogDetail) {\r\n    return null;\r\n  }\r\n\r\n  const blogs = blogDetail?.cate\r\n    ? await getRelatedBlogs(blogDetail.cate.documentId)\r\n    : [];\r\n\r\n  return <div>{blogDetail.documentId}</div>;\r\n}\r\n"],"names":[],"mappings":";;;;;;AAMA,2BAA2B;AAC3B,eAAe,QAAQ,IAAY;IACjC,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,CAAC,wCAAwC,EAAE,MAAM;QACzE,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,IAAI,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO;IACT;AACF;AAEA,0BAA0B;AAC1B,eAAe,gBAAgB,UAAkB;IAC/C,IAAI;QACF,MAAM,MAAM,MAAM,MAChB,CAAC,+DAA+D,EAAE,WAAW,yDAAyD,CAAC;QAEzI,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,IAAI,IAAI,EAAE;IACxB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,EAAE;IACX;AACF;AASO,eAAe,iBAAiB,EAAE,MAAM,EAAiB;IAC9D,MAAM,OAAO,MAAM,QAAQ,MAAM,CAAC,YAAY;IAC9C,IAAI,CAAC,MAAM,OAAO,CAAC;IACnB,OAAO;QACL,OAAO,KAAK,KAAK;QACjB,aAAa,KAAK,UAAU;QAC5B,WAAW;YACT,OAAO,KAAK,KAAK;YACjB,aAAa,KAAK,UAAU;YAC5B,QAAQ,KAAK,KAAK,EAAE,MAAM;gBAAC;oBAAE,KAAK,KAAK,KAAK,CAAC,GAAG;gBAAC;aAAE,GAAG,EAAE;QAC1D;IACF;AACF;AAEe,eAAe,KAAK,EAAE,MAAM,EAAa;IACtD,MAAM,OAAO,MAAM,CAAC,YAAY;IAChC,MAAM,aAAa,MAAM,QAAQ;IAEjC,IAAI,CAAC,YAAY;QACf,OAAO;IACT;IAEA,MAAM,QAAQ,YAAY,OACtB,MAAM,gBAAgB,WAAW,IAAI,CAAC,UAAU,IAChD,EAAE;IAEN,qBAAO,8OAAC;kBAAK,WAAW,UAAU;;;;;;AACpC","debugId":null}}]
}